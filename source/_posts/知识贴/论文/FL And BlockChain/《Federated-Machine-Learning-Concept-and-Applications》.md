---
title: 《Federated_Machine_Learning:Concept_and_Applications》
tags:
  - federated_learing
categories:
  - knowledge
  - federated_learing
toc: true
declare: true
date: 2021-03-20 15:41:05
---

# 《Federated_Machine_Learning:Concept_and_Applications》

《联邦学习的概念和应用》论文的学习

# 一、基本信息

![qSQV3b](http://xwjpics.gumptlu.work/qinniu_uPic/qSQV3b.png)

<!-- more -->

## 基本概念:

### **Honest-but-Curious(HBC)**

(1)节点将不会了解到关于数据集合的任何有用信息

(2)节点可以被赋予搜索集合的权利并将适当的(加密的)文档返回给其他节点的能力。

### 同态加密

#### 概念

如果我们有一个加密函数 *f* , 把明文A变成密文A’, 把明文B变成密文B’，也就是说*f*(A) = A’ ，*f*(B) = B’ 。另外我们还有一个解密函数$f^{-1}$，能够将 *f* 加密后的密文解密成加密前的明文。对于一般的加密函数，如果我们将A’和B’相加，得到C’。我们用$f^{-1}$对C’进行解密得到的结果一般是毫无意义的乱码。

但是，如果 *f* 是个可以进行同态加密的加密函数， 我们对C’使用$f^{-1}$

进行解密得到结果C， 这时候的C = A + B。这样，<font color='red'>**数据处理权与数据所有权可以分离，这样企业可以防止自身数据泄露的同时，利用云服务的算力。**    </font>

#### 同态分类

a) 如果满足 *f*(A)+f(B)=*f*(A+B)， 我们将这种加密函数叫做加法同态 
b) 如果满足 *f*(A)×f(B)=*f*(A×B)， 我们将这种加密函数叫做乘法同态。

如果一个加密函数*f*只满足**加法同态**，就只能进行**加减法运算**；

如果一个加密函数*f*只满足**乘法同态**，就只能进行**乘除法运算**;

如果一个加密函数同时满足**加法同态和乘法同态**，称为<font color='red'>**全同态加密**    </font>。**那么这个使用这个加密函数完成各种加密后的运算(加减乘除、多项式求值、指数、对数、三角函数)。**

第一个满足加法和乘法同态的同态加密方法直到2009年才由Craig Gentry提出。

#### 同态加密算法

1. RSA 算法对于乘法操作是同态的。
2. Paillier 算法则是对加法同态的。
3. Gentry 算法则是全同态的

### 实体对齐 entity alignment 

对于相同或不同的知识库，判断两个实体是否指向同一个物理对象，然后合并相同的实体。

# 二、主体内容

## 2.1 Introduction

目前的数据共享两大问题
1. data exists in the form of isolated islands

2. data privacy and security

## 2.2 An overview of federated learning

联邦学习的三种框架:

1. horizontal federated learning 	水平联邦学习
2. vertical federated learning         垂直联邦学习
3. federated transfer learning       联邦迁移学习

### 2.2.1 Definition of Federated Learning

Define N data owners `{F1, . . . FN }`, all of whom wish to train a machine-learning model by consolidating their respective data `{D1, . . . DN }`. A conventional method is to put all data together and use `D=D1 ∪ ··· ∪ DN `to train a model **M~SUM~**. A federated-learning system is a learning process in which the data owners collaboratively train a model **M~FED~**, in which process any data owner` Fi `does not expose its data `Di `to others. In addition, the accuracy of **M~FED~**, denoted as **V~FED~**, should bevery close to the performance of **M~SUM~**, **V~SUM~ **. Formally,let `δ` be a non-negative real number;

 if `|VFED−VSUM |<δ`, 

we say that the federated learning algorithm has δ -accuracy loss.

对于数据的拥有方`{F1, . . . FN }`, 传统的做法是集合所有的数据训练出模型**M~SUM~**, ==联邦学习系统的训练过程中,所有的数据拥有者**共同**训练一个模型称之为**M~FED~**,在整个训练的过程中,数据的拥有者`Fi`不会把自己的数据`Di`给其他人, 此外联邦学习的精准度**V~FED~**表现需要非常接近于传统方式的精准度**V~SUM~ **==, 设`δ`为一个非负的实数,则有`|VFED−VSUM |<δ`, 这样我们称之为联邦学习算法有`δ`精准度的缺失.

### 2.2.2 Privacy of Federated Learning

分析比较联邦学习中不同的隐私保护技术:

#### 1.SMC(Secure Multiparty Computation 安全多方计算)

安全多方计算包含: 多重部分(multiple parties)和基于良好模拟框架下的**完全零知识隐私保护证明**.这意味着每一个部分都只知道自己的输入与输出是什么,而其他的知识一概不知.

能够达到完全的零知识证明是最好的期望,但是其通常要求的复杂的计算协议框架可能导致难以高效的实现.在一些主要的场景中,已经给出了安全保证那么部分的透露‘知识’也是可以考虑的.

在牺牲部分安全性的低安全要求下很可能使用SMC框架去训练机器学习的模型,以此来提高效率.

除了SMC架构还有MPC协议,MPC协议一般是除去用户暴露的敏感隐私数据.

这些工作都是基于部分数据能够被加密分享在没有共谋的服务商之间.

#### 2.Differential Private 差分隐私

差分隐私、k-匿名(k-anonymity)、多样化(Diversification)数据隐私保护方法都包含了**向数据添加噪音**或者**使用更为一般的方法去模糊重要敏感数据属性使得第三方不能够单独的识别出来**,这样让数据不能被修复从而达到保护用户的隐私数据.

从根本上来说这些方法都需要将数据传输到其他地方,这通常涉及到隐私性与安全性的权衡.

#### 3.Homomorphic Encryption 同态加密

同态加密通过在机器学习中**对参数进行置换**从而保护隐私数据,与差分隐私不同的是,数据或者模型本身并不会被传递,也不能推测够对方的数据.因此有很小的可能性泄漏原始数据.

最新的研究是在云上使用同态加密进行集中的训练数据, 此外，同态加密被广泛使用，并且在机器学习算法中需要进行多项式近似来评估非线性函数，从而在准确性和隐私之间进行权衡.

#### 4.间接数据泄露

在例如SGD随机梯度下降这样的最优化算法中,联邦学习会可能暴露参数更新时的中间结果.然而在没有安全保障的支持下,当中间结果例如梯度和模型的数据结构一起暴露时,就很可能暴露重要的数据信息.例如图像的像素

研究人员已经考虑过这样的情况:一个联邦学习系统的成员这样对联邦学习系统进行恶意的攻击:插入一个程序后门学习其他人的数据.

已有研究表明,在协作学习中不同各方使用的训练数据容易受到“推理攻击”,他们表明，一个敌对的参与者可以推断出成员身份以及与训练数据子集相关的属性。他们也讨论了这种攻击的防范措施.

在[62]中，作者揭露了与不同方之间的梯度交换相关的潜在安全问题，并提出了梯度下降法的一种安全变体。他们表明，它能容忍一定比例的拜占庭作恶

研究人员也开始考虑**将区块链作为一个促进联邦学习的平台**。**在[34]中，研究人员考虑了区块链联邦学习(BlockFL)**框架

## 2.3 The Categorization of Federated Learning 

根据数据的**分布特点**对联邦学习的分类

矩阵`Di`代表数据拥有者`i`的数据,矩阵的行为每个样例,列为属性。同时许多数据集还会有标签lable,我们使用`X`代表特征空间,`Y`表示标签空间/集合,同时我们使用`I`代表样例的ID空间.X,Y,I构建了训练集数据`(I,X,Y)`.

The feature `X`,label `Y`, and sample Ids `I `constitute the complete training dataset` (I,X,Y)`

**==根据数据各方的<u>特征和样本空间</u>可能不相同，依据<u>数据在特征和样本ID空间</u>的分布, 我们将联邦学习分类为<u>水平</u>联邦学习(horizontally federated learning)、垂直联合学习(vertically federated learning)和联合迁移学习(federated transfer learning)==**，

### 2.3.1 Horizontal Federated Learning

水平联邦学习又叫**基于样例的联邦学习**Sample-based federated learning

特点: ==有相同的特征空间,但是样例空间不同== , 见下图红色区域

![gAKZl6](http://xwjpics.gumptlu.work/qinniu_uPic/gAKZl6.png)

例如，两个区域银行可能有来自各自地区的非常不同的用户组，并且它们的用户交集非常小。然而，它们的业务非常相似，所以特征空间是相同的.

* 关于目前水平联邦学习的相关研究:

  [58]的作者提出了一种协作式深度学习方案，其中参与者独立训练，只共享参数更新的子集

  2017年，谷歌为Android手机型号更新提出了水平联邦学习解决方案[41] , 在该框架中，使用安卓手机的单个用户在本地更新模型参数，并将参数上传到Android云，从而与其他数据所有者共同训练集中式模型。

  [9]中还引入了一种安全的聚合方案，以在联邦学习框架下保护聚合用户更新的隐私。

  [51]的作者附加使用同态加密进行模型参数聚合，以提供针对中央服务器的安全性。

  在[60]中，提出了一个多任务风格的联邦学习系统，允许多个站点在共享知识和保持安全性的同时完成独立的任务。他们提出的多任务学习模型也可以解决高通信成本、掉线和容错问题。在[41]中，作者提议构建一个安全的客户机-服务器结构，在该结构中，联邦学习系统按用户划分数据，并允许在客户机设备上构建的模型在服务器站点上协作，以构建一个全局联邦模型。模型的构建过程确保了没有数据泄漏。同样，在[36]中，作者提出了改进通信成本的方法，以促进基于分布在移动客户端的数据的集中式模型的培训。最近，一种被称为深度梯度压缩[39]的压缩方法被提出，以极大地降低大规模分布式训练中的通信带宽.

**我们总结水平联邦学习为:**

$$
X_i = X_j, Y_i = Y_j, I_i \neq I_j, \forall D_i, D_j, i \neq j
$$

**安全定义:**

一般假设建立在诚实的参与节点中,只有服务器能够破坏参与者的隐私.

最近，另一种考虑恶意用户[29]的安全模型也被提出,但是这给隐私带来了额外的挑战,它在训练结束时,将通用模型和所有模型参数暴露给所有参与者.

### 2.3.2 Vertical Federated Learning

垂直联邦学习又叫做基于**特征**的联邦学习(feature-based federated learning)

**==适用于两个数据集有相同的样例 ID空间，但特征空间不同的情况==**

![5HZIcn](http://xwjpics.gumptlu.work/qinniu_uPic/5HZIcn.png)

针对**垂直**划分的数据，提出了保护隐私的机器学习算法, 包括合作统计分析[15]，关联规则挖掘[65]，安全线性回归[22,32,55]，分类[16]，梯度下降[68]

最近，[27,49]的作者提出了一个垂直联邦学习计划,训练一个隐私保护的逻辑回归模型。研究了实体分辨率对学习性能的影响，并对损失函数和梯度函数应用泰勒近似，从而使同态加密能够用于隐私保护计算

例如，考虑同一城市中的两家不同的公司:一家是银行，另一家是电子商务公司。他们的用户集可能包含该地区的大多数居民;因此，它们的**用户空间的交集很大**。但是，由于银行记录了用户的收支行为和信用评级，电子商务保留了用户的浏览和购买历史，**两者的特征空间有很大的不同**.假设我们希望双方都有一个基于用户和产品信息的产品购买预测模型.

垂直联合学习是将这些不同的特征聚集起来，并以一种隐私保护的方式计算训练损失和梯度，从而利用来自双方的数据协作构建模型的过程。

在这样的联邦机制下，参与各方的身份和地位都是相同的，联邦系统帮助每个人建立“共同财富”战略，这就是为什么这个系统被称为联邦学习。因此，在这样一个系统中，我们有:
$$
X_i \neq X_j, Y_i \neq Y_j, I_i = I_j  , \forall D_i, D_j, i\neq j
$$
**安全定义:**

垂直联合学习系统通常假设参与者是HBC的。

例如，在两党情况下，两党是不合谋的，最多有一方被对手妥协。安全定义是，对手只能从被破坏的客户端了解数据，而不能从其他客户端了解输入和输出以外的数据。

为了帮助在双方之间实现安全计算,有时候会引入半成熟的第三方(semi-honest third party STP), 在这种情况下，假定STP不与任何一方串通。SMC为这些协议[25]提供了正式的隐私证明。

在学习结束时，每一方只持有那些与自己的特征相关的模型参数。因此，在预测时，双方还需要协作来生成输出

### 2.3.3 Federated Transfer Learning(FTL)

联邦迁移学习适用于两个数据集不仅在样本上不同，在特征空间上也不同的场景

考虑两家机构:一家是位于中国的银行，另一家是位于美国的电子商务公司。由于地理上的限制，这两个机构的用户群有一个较小的交叉点。另一方面，由于业务的不同，双方的特征空间只有一小部分重叠

在这种情况下，迁移学习[50]技术可以被用于在联邦下为整个样本和特征空间提供解决方案

![JaIL4j](http://xwjpics.gumptlu.work/qinniu_uPic/JaIL4j.png)

特别是，使用有限的共同样本集来学习两个特征空间之间的共同表示，然后应用于只有一侧特征的样本的预测。FTL是对现有联邦学习系统的重要扩展，因为它处理的问题超出了现有联邦学习算法的范围:
$$
X_i \neq X_j, Y_i \neq Y_j, I_i \neq I_j, \forall D_i,D_j, i \neq j
$$
**安全定义:**

一个迁移联邦学习需要包含两个部分.后面将会详细的介绍,它的协议类似于垂直联邦学习中的协议，在这种情况下，垂直联合学习的安全定义可以在这里扩展.

## 2.4 Architecture for a Federated Learning System

在本节中，我们将举例说明联邦学习系统的通用架构。请注意，**水平和垂直联邦学习系统的架构在设计上是非常不同的**，我们将分别介绍它们

### 2.4.1 Horizontal Federated Learning

一个典型的水平学习框架入下图所示:

![8iRczy](http://xwjpics.gumptlu.work/qinniu_uPic/8iRczy.png)

具有相同数据结构的协作参与者在参数或云服务器的帮助下相对地学习机器学习模型, 一个典型的假设是参与者是诚实的，而服务器是HBC的, 因此,不会允许任何参与者泄露信息到服务器.

这样的系统一般为以下四个步骤:

1. 参与者本地计算训练的梯度,在不断变换的梯度选择中使用差分隐私(differential privacy)、加密算法、秘密共享(secert shareing)等技术,然后发送隐藏/加密后的数据给服务器.
2. 服务器进行安全聚合函数并且不需要了解参与者的信息,也难以了解
3. 服务器返回聚合结果给每个参与者
4. 参与者根据解密的梯度更新自己的模型

迭代以上步直到损失函数收敛,完成整个训练的过程.该架构独立于**特定的机器学习算法**(logistic regression, DNN等)，所有参与者将共享最终的模型参数

**安全分析:**

当使用SMC[9]同态加密进行梯度聚合时，证明了上述体系结构对半诚实服务器的数据泄漏具有保护作用

然而，在另一个安全模型中[29]，它可能在协作学习过程中受到恶意参与者通过训练生成对抗网络(GAN)进行攻击

### 2.4.2 Vertical Federated Learning

假设公司A和B想联合训练机器学习模型并且他们的商业系统都有自己的数据。另外，B公司也有模型需要预测的标签数据.由于数据隐私和安全的原因，A和B不能直接交换数据。为了训练过程中数据的保密性，第三方合作者C参与其中。

在此，我们假设合作方C是诚实的，不与A和B双方串通，但A、B是HBC的

可信的第三方C是一个合理的假设,在实际的环境中可能是有强大信用背书的第三方(例如:政府)或者是一个安全计算节点(例如Intel Software Guard Extensions(SGXs) [7])

水平联邦学习系统由两个部分组成,如图:

![O1DBic](http://xwjpics.gumptlu.work/qinniu_uPic/O1DBic.png)

#### 部分1: Encrypted model alignment 

由于两家公司的用户组不相同，系统使用[38,56]中描述的**基于加密的用户ID对齐技术**(encryption-based user ID alignment techniques)来确认双方的普通用户，而A和B不公开各自的数据。在实体对齐期间，系统不会公开彼此不重叠的用户。

#### 部分2: Encrypted model training

在确定公共实体后，我们可以使用这些公共实体的数据来训练机器学习模型。培训过程可以分为以下四个步骤:

1. 合作者/公证人C创建加密对并向a和B发送公钥

2. 为了后面的梯度和损失计算,A和B加密和交换中间结果
3. A和B分别计算加密后的梯度并且添加遮照(additional mask).B也会计算加密损失.A和B发送加密的结果给C

4. C解密数据并且发送解密的梯度和损失返回给A和B,A和B去掉梯度上的遮照(unmask)并且随后更新模型的参数.

这里，我们以<font color='#e54d42'>**线性回归和同态加密为例**</font>来说明训练过程.为了用梯度下降法训练线性回归模型，我们需要安全计算其损失和梯度.

假设学习率为`η`，正则化参数`λ`，数据集$\{X_i^A\},i\in D_A, \{X_i^B, y_i\}, i \in D_B\\$ <font color='blue'>(B有标签,A没有)</font>并且模型的参数$\Theta _A, \Theta_B$分别关联特征空间$X_i^A,X_i^B$

训练对象是:

![li4du2](http://xwjpics.gumptlu.work/qinniu_uPic/li4du2.png)

让$u_i^A = \Theta_AX_i^A, u_i^B=\Theta_BX_i^B$,  则加密的损失函数就变成如下:

$[[L]] = [[\sum_i((u_i^A+u_i^B-y_i))^2 + \frac {\lambda}{2}(\Theta_A^2 + \Theta_B^2) ]]$

其中，加法同态加密(additive homomorphic encryption, `f(a) + f(b) = f(a + b)` )记为[[·]]。<font color='blue'> 上面的[[]]就代表经过了加法同态加密</font>

分别设A和B的同态加密后的损失函数为:

$[[L_A]] = [[\sum_i((u_i^A)^2)+ \frac {\lambda}{2} \Theta^2_A ]]$

$[[L_B]] = [[\sum_i((u_i^B- y_i)^2 )+ \frac {\lambda}{2} \Theta^2_B ]]$

并且:

$[[L_{AB}]] = 2\sum_i([[u_i^A]](u_i^B-y_i))$

所以:

$[[L]] = [[L_A]] + [[L_B]] + [[L_{AB}]]$

<font color='red'>这个其实就是二次方的因式分解 </font>

![LIR1dy](http://xwjpics.gumptlu.work/qinniu_uPic/LIR1dy.png)

同样的,让$[[d_i]] = [[u_i^A]] + [[u_i^B - y_i]]$

那么就有: 

![RumtZX](http://xwjpics.gumptlu.work/qinniu_uPic/RumtZX.png)



![Pyg6Tr](http://xwjpics.gumptlu.work/qinniu_uPic/Pyg6Tr.png)



表格一与表格二展示了详细的过程:

表一: 垂直联邦学习的**训练**过程

![Xfujcl](http://xwjpics.gumptlu.work/qinniu_uPic/Xfujcl.png)

表二:垂直联邦学习的**评估/预测**过程

![NfXcPe](http://xwjpics.gumptlu.work/qinniu_uPic/NfXcPe.png)

在实体对齐和模型训练过程中，A和B的数据都保存在本地，训练过程中的数据交互不会导致数据隐私泄露

请注意，潜在的信息泄漏给C可能被认为是隐私侵犯，也可能不被认为是隐私侵犯

在此案例中,为了在未来阻止C在A和B中学习/获取信息数据,A和B可以通过**添加加密随机掩码**(即表中第三部的RA和RB)计算梯度给C

所以，双方在联合学习的帮助下合作实现了一个共同模型的训练。因为，在训练过程中，如果在没有隐私约束的情况下，将从一个地方收集的数据联合构建一个模型，那么各方接收到的损失和梯度与他们将接收到的损失和梯度完全相同，即该模型是无损的.

该模型的有效性取决于加密数据的通信代价和计算代价, 在每一个循环, A和B之间发送的信息与重叠样本的数量成正比。<font color='red'>因此，采用**分布式并行计算技术(distributed parallel computing techniques.)**可以进一步提高该算法的性能    </font>

**安全性分析:**

表1所示的训练协议并没有向C透露任何信息，因为C学习到的都是添加掩码的梯度，并且掩码矩阵的随机性和保密性都得到了保证[16]。

在上述协议中，A在每一步中学习其梯度，但这不足以使A根据式:

![E4sePc](http://xwjpics.gumptlu.work/qinniu_uPic/E4sePc.png)

从B中学习到任何信息。

因为点积协议(scalar product protocol)的安全性是建立在不能求解n个方程中超过n个未知数的基础上的[16,65]。<font color='green'> (线性代数中,未知数个数大于方程个数,解有无数个, 这里保存疑问???)</font> .也就是这里，我们假设样本的数量$N_A$要比特征的数量$n_A$大得多.

同样，B也无法从A处获取任何信息，从而证明了协议的安全性。

注意:我们假设双方之间都是半诚实的.

如果一方是恶意的，并且通过伪造输入来欺骗系统——例如，一方只提交了一个非零的输入，并且只有一个非零的特征——它就可以告诉这个样本的特征的值为$u_i^B$,但是他仍然无法告知$X_i^B$或者$\Theta_B$.然而，这种偏差会扭曲下一次迭代的结果，使另一方警觉，他们将终止学习过程。

直到训练过程的最后，每一方(A或B)都不知道另一方的数据结构，只获得与自己的特征相关的模型参数。在推断时，双方需要按照表2所示的步骤协同计算预测结果，仍然不会导致信息泄露.

### 2.4,3 Federated Transfer Learning

联邦迁移学习

假设在上述垂直联邦学习示例中，A方和B方只有非常小的重叠样本集，我们有兴趣学习A方整个数据集的标签。以上部分中描述的架构到目前为止只适用于**重叠较多的数据集**。为了将其覆盖范围扩展到整个样本空间，我们引入了迁移学习。

这不会改变图4中所示的整体架构，但是会改变在**A和B双方之间交换的中间结果的细节。**

特别的,迁移学习通常包括学习A方和B方特征之间的共同表征并且通过利用源域方(此案例中的B)的标签来最小化预测目标域方标签的错误(<font color='green'>**最小化损失**    </font>)

因此，A方和B方的梯度计算与垂直联邦学习场景下的梯度计算不同。在预测时，仍然需要双方计算预测结果

### 2.4.4 Incentives Mechanism 激励机制

​	为了充分商业化不同组织之间的联合学习，需要建立一个公平的平台和激励机制. 模型建立后，模型的性能将在实际应用中得到体现。这种性能可以在一个永久的数据记录机制(如区块链)中记录下来。提供更多数据的组织会更好，模型的有效性取决于数据提供者对系统的贡献。这些模型的有效性是基于联合机制的分布式部分，并继续激励更多的组织加入数据联合.

​	上述体系结构的实现不仅考虑了多组织间的隐私保护和协同建模的有效性，而且考虑了如何奖励贡献更多数据的组织，以及如何通过共识机制实施激励。因此，联邦学习是一种**“闭环”**学习机制。

# 3 Related Works 相关工作

联合学习使多方能够协作构建机器学习模型，同时保持他们的私人训练数据的私密性。作为一种新颖的技术，联合学习有几个创意线索，其中一些植根于现有的领域。下面，我们从多个角度解释联邦学习与其他相关概念之间的关系。

## 3.1 Privacy-Preserving Machine Learning

联邦学习可以看作是一种保护隐私、分布式协同的机器学习. 因此，它与多方保护隐私的机器学习紧密相关.过去在这一领域进行了许多研究工作。

例如，[17,67]的作者提出了用于垂直划分数据的安全多方决策树算法。

Vaidya和Clifton提出了用于垂直分割数据的安全关联挖掘规则[65]、安全k-means[66]和朴素贝叶斯分类器[64]

[31]的作者提出了水平分区数据关联规则的算法。

安全支持向量机算法已经被开发用于垂直分区数据[73]和水平分区数据[74]。

[16]的作者提出了针对多方线性回归和分类的安全协议

[68]的作者提出了安全的多方梯度下降方法。这些作品都使用SMC[25,72]来保证隐私

Nikolaenko等人的[48]使用同态加密和Yao的混淆电路(Garbled Circuits)实现了水平分割数据的线性回归的隐私保护协议。[22,24]的作者提出了一种垂直划分数据的线性回归方法。这些系统直接解决了线性回归问题。[47]的作者利用SGD解决了这一问题，并提出了逻辑回归和神经网络的隐私保护协议。最近，一个三服务器模型的后续工作被提出[44]。Aono等人[4]提出了一种使用同态加密的安全逻辑回归协议。Shokri和Shmatikov[58]提出了利用更新参数交换水平分区数据的神经网络训练方法。[51]的作者使用了附加同态加密来保留梯度的隐私性，提高了系统的安全性。随着深度学习的最新进展，隐私保护神经网络推理也受到了大量的研究兴趣[10,11,14,28,40,52,54]。

## 3.2 Federated Learning versus Distributed Machine Learning

**联邦学习与分布式机器学习的对比**

横向联合学习乍一看与分布式机器学习有些相似.分布式机器学习涉及多个方面，包括训练数据的分布式存储、计算任务的分布式操作和模型结果的分布式分发。

参数服务器[30]是分布式机器学习中的一个典型元素。作为一种加速训练过程的工具，参数服务器将数据存储在分布式工作节点上，并通过一个中央调度节点分配数据和计算资源，以更高效地训练模型.

对于横向联合学习，工作节点表示数据所有者。它对本地数据具有**完全的自治性**；它可以决定何时以及如何加入联邦学习。在参数服务器中，中心节点总是进行控制；因此，联邦学习面临更复杂的学习环境。另外，联邦学习强调在模型训练过程中对数据所有者的数据隐私保护。有效的数据隐私保护措施可以更好地应对未来日益严格的数据隐私和数据安全监管环境。

与分布式机器学习设置一样，联合学习也需要处理非IID数据。文献[77]的作者指出，使用非本地数据，联邦学习的性能会大大降低。针对这一问题，作者提出了一种类似于迁移学习的新方法。

## 3.3 Federated Learning versus Edge Computing

**联邦学习与边缘计算的对比**

联邦学习可以看作是边缘计算的一个操作系统，因为它为协调和安全提供了学习协议。文献[69]的作者考虑了一类通用的机器学习模型，这些模型使用基于梯度下降的方法进行训练。他们从理论上分析了分布梯度下降法的收敛界，在此基础上提出了一种控制算法，在给定资源预算的情况下，通过确定局部更新和全局参数聚集之间的最佳权衡，使损失函数最小化

## 3.4 Federated Learning versus Federated Database Systems

**联邦学习与联邦数据库系统的对比**

联邦数据库系统[57]是集成多个数据库单元并作为一个整体管理集成系统的系统。为了实现多个独立数据库的互操作性，提出了联邦数据库的概念。联邦数据库系统通常对数据库单元使用分布式存储，而实际上，每个数据库单元中的数据是异构的。因此，它在数据类型和存储方面与联邦学习有许多相似之处。然而，**联邦数据库系统在交互过程中不涉及任何隐私保护机制**，所有的数据库单元对管理系统都是完全可见的。另外，联邦数据库系统的重点是数据的插入、删除、搜索、合并等基本操作，而联邦学习的目的是在保护数据隐私的前提下，为每个数据拥有者建立一个联合模型，使数据所包含的各种价值和规律为我们服务更好。

# 4. Applications

​	作为一种创新的建模机制，可以在不损害这些数据的隐私和安全性的前提下，训练多方数据的统一模型，联合学习在**销售、财务**等领域有着广阔的应用前景，以及许多其他行业，由于知识产权、隐私保护和数据安全等因素，无法直接聚合数据来训练机器学习模型。

​	以智能零售为例。其目的是利用机器学习技术为客户提供个性化的服务，主要包括产品推荐和销售服务。智能零售业务涉及的数据特征主要包括用户购买力、用户个人偏好和产品特征。在实际应用中，这三种数据特征很可能分散在三个不同的部门或企业中。例如，用户的购买力可以从用户的银行储蓄中推断出来，个人偏好可以从用户的社交网络中分析出来，而产品的特性则由电子商店记录下来。在这种情况下，我们面临两个问题。首先，为了保护数据隐私和数据安全，银行、社交网站和电子购物网站之间的数据壁垒很难打破。因此，不能直接聚合数据来训练模型。第二，三方存储的数据通常是异构的，传统的机器学习模型不能直接处理异构数据。目前，传统的机器学习方法还没有有效地解决这些问题，阻碍了人工智能在更多领域的推广应用.

<font color='green'>**传统的人工智能领域无法在异构数据领域进行直接的学习,而异构数据化为同构数据的过程又涉及到数据隐私的保护** </font>

​	联邦学习和迁移学习是解决这些问题的关键。首先，利用联邦学习的特点，我们可以为第三方建立一个机器学习模型并且不需要导出企业的数据,它不仅充分保护了数据隐私和数据安全，而且为客户提供了个性化、针对性的服务，实现了双赢！同时，我们可以利用迁移学习来解决数据异构问题，突破传统人工智能技术的局限性。因此，联邦学习为我们构建跨企业、跨数据、跨领域的大数据和人工智能生态圈提供了良好的技术支持。

​	可以使用联邦学习框架进行多方数据库查询，而无需提供数据。例如，假设在一个商业应用我们感兴趣的是检测多方借贷，这一直是银行业的一个主要风险因素。当某些用户恶意从一家银行借款以支付另一家银行的贷款时，就会发生这种情况。多方借贷对我们金融稳定是个威胁，作为一个庞大的非法行为可能会导致整个金融体系崩溃。为了查找这样的用户，而不必在银行A和B之间相互公开用户列表,我们可以开发一个联邦学习框架. 特别的，我们可以使用联邦学习的加密机制，对每一方的用户列表进行加密，然后在联邦中取加密列表的交集。解密的最终结果提供多方借款人的列表，而不会将其他“好”用户暴露给其他部分用户。我们将在下面看到，这个操作对应于垂直联合学习框架

​	智能医疗是另一个领域，我们预计将大大受益于联邦学习技术的崛起。疾病症状、基因序列和医学报告等医学数据非常敏感和保密，然而医学数据集很难收集，并且存在于孤立的医疗中心和医院中。数据源的不足和标签的缺乏导致机器学习模型的性能不理想，成为当前智能医疗的瓶颈。我们设想，如果所有医疗机构联合起来，共享数据，形成一个大型医疗数据集，那么在这个大型医疗数据集上训练的机器学习模型的性能将得到显著提高。联邦学习与迁移学习相结合是实现这一愿景的主要途径。迁移学习可以用来填补缺失的标签，从而扩大可用数据的规模，进一步提高训练模型的性能。因此，联邦迁移学习将在智能医疗的发展中发挥关键作用，并可能将人类医疗提升到一个全新的水平.

# 5. Federated Learning and Data Alliance of Enterprises

**联邦学习和企业数据联盟**

联合学习不仅是一种技术标准，也是一种商业模式。当人们重新认识到大数据的影响时，他们想到的第一个想法是聚合数据.

​	通过远程处理器计算模型，然后下载结果供进一步使用。云计算就是在这样的需求下应运而生的。也就是说，随着数据隐私和数据安全的重要性日益提高，企业利润与数据的关系日益密切，云计算模式受到了挑战。然而，联邦学习的商业模式为大数据的应用提供了新的范例。当各个机构所占用的孤立数据不能产生理想的模型时，**联邦学习机制使得机构和企业可以共享一个统一的模型而不需要数据交换**。此外，<font color='red'>联邦学习可以借助区块链技术的共识机制制定公平的利润分配规则 </font>数据拥有者，不管他们拥有的数据规模有多大，都会被激励加入数据联盟并赚取自己的利润。我们认为，数据联盟商业模式的建立和联合学习技术机制的建立应该结合起来进行。我们还将为联邦政府制定标准使其在各个领域学习并尽快投入使用。

# 6.Conclusions and prospects

​	近年来，数据的隔离和对数据隐私的重视成为人工智能面临的下一个挑战，而联合学习给我们带来了新的希望。它可以为多个企业建立一个统一的模型，同时对本地数据进行保护，使企业能够在数据安全方面协同工作。本文概述了联邦学习的基本概念、体系结构和技术，并讨论了它在各种应用中的潜力。预计在不久的将来，联合学习将打破行业之间的壁垒，建立一个安全共享数据和知识的社区，并根据每个参与者的贡献公平分配利益。人工智能的好处最终会带到我们生活的每一个角落。

