---
title: 北大肖臻-第17讲-以太坊中的交易树和收据树
tags:
  - block_chain
categories:
  - knowledge
  - block_chain
  - xiaozhen_public_class
toc: true
date: 2020-07-04 19:59:22
---

# 第17讲 以太坊中的交易树和收据树


## 代码和数据结构

![](http://xwjpics.gumptlu.work/qiniu_picGo/56.jpg)

<!-- more -->

![](http://xwjpics.gumptlu.work/qiniu_picGo/57.jpg)

![](http://xwjpics.gumptlu.work/qiniu_picGo/58.jpg)


![](http://xwjpics.gumptlu.work/qiniu_picGo/20200704195803.png)

![](http://xwjpics.gumptlu.work/qiniu_picGo/20200704200450.png)

![](http://xwjpics.gumptlu.work/qiniu_picGo/20200704200510.png)

![](http://xwjpics.gumptlu.work/qiniu_picGo/20200704200820.png)

![](http://xwjpics.gumptlu.work/qiniu_picGo/20200704201142.png)

### CreateBloom函数

![](http://xwjpics.gumptlu.work/qiniu_picGo/20200704201905.png)

### LogsBloom函数

![](http://xwjpics.gumptlu.work/qiniu_picGo/20200704202311.png)

图中写错了，内层循环的是每个log中的多个Topic，而不是地址的Topic

### Bloom9函数

![](http://xwjpics.gumptlu.work/qiniu_picGo/20200704204158.png)

图片纠错：这里的函数不是仅仅的取hash的函数，取完hash后还做了映射，最后返回的是映射（3个）后的bloom filter

### bloom filter 查找函数 

![](http://xwjpics.gumptlu.work/qiniu_picGo/20200704205334.png)


