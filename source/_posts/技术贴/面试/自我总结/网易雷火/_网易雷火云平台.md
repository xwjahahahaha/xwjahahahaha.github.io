---
title: 网易雷火云平台
tags:
  - null
categories:
  - technical
  - null
toc: true
declare: true
date: 2022-03-25 18:15:26
---

# 一面 3.25 （1小时）

* docker项目

  * 说一下具体功能
  * 你说通过union fs实现文件系统的隔离？我不赞同，你能详细说一下吗？
    * 实现镜像的只读层和上层的读写层，保证镜像的不被破坏和复用
    * 通过pivot_root实现了容器根目录的挂载，每个容器都有不同的启动目录
  * 可是pivot_root挂载根目录没有实现隔离啊？
    * 反应过来了，关键点在于pivot_root通过MountNamespace隔离的容器挂载点文件，实现了文件隔离（貌似说到MountNS面试官就满意了）
  * 你说到MountNS，详细介绍一下其他NS？（说了一堆）
  * 说到IPC Namespace，聊一下有哪些IPC方式？ （说了一堆, 拓展）
  *  刚刚说到了信号，你可以介绍一下我们一般在代码中怎样处理信号吗？  
  * Cgroups详细介绍一下？（说了V1、V2）
  * 你说到了cpu、cpuset，详细介绍一下？
    * cpuset我理解的不对，入坑了
  * Cpuset你说是设置核心数，如果在k8s多核情况下应该设置cpu还是cpuset？（cpuset，答案不对）
  * 你刚刚说到NUMA架构，介绍一下？（不知道）
  * docker中数据包的流转过程？docker向外部，docker容器之间两种情况？（还好昨晚复习了）
  * 你说到Iptables，介绍一下作用？（还好今天看了）
  * 再详细介绍一下iptables数据包五条链的流转过程？(讲了一遍)

* k8s

  * k8s的service介绍一下？（讲了自己理解，反应挺好）
  * k8s的调度器算法介绍一下？（讲了默认的调度算法）

* 虚拟化技术

  * 你现在的部门在做虚拟化的，虚拟化与容器化的区别？
    * 虚拟化层次不同，应该还行，但是我说了我不了解KVM，然后就没问了

* 操作系统、linux

  * ps命令做什么的？显示了哪些信息？（没说到关键：cpu内存占用率）
  * 怎样看一个进程cpu、内存占用？（top）
  * 先来cpu，top命令中进程的使用率是怎么计算的？（从进程调度时间片占用时间讲了，反应还行）
  *  一个进程的cpu占比200%，这个是如何计算出来的，发生了什么？（不知道想问啥）
  * 那内存占比有两个，一个是虚拟内存占比一个是物理内存占比，为什么是两个？
    * 回答虚拟内存占比是虚拟地址空间的占比，物理内存占比可能有一些在swap分区。不满意
  * 如果没有swap分区呢？
    * 懵了，然后问了他，他说是内存占用不一定完全占用，堆栈之间可能还有未使用，物理占比是实际的使用比例
  * 说到地址映射？详细介绍一下地址映射过程？（讲了分段、页、多级页表不同的映射方式）
  * Linux的文件类型有哪些？（文件、目录、链接文件、socket文件，面试官帮我补充了ipc文件、管道文件）
  * 如果使用ls -a查看一个文件，输出哪些信息？这些信息保存在哪？
    * 输出信息很简单，从Unix文件系统的角度说了保存在inode索引节点上，貌似很满意

* 算法

  * 合并k个有序链表 （和面试官说写堆很麻烦，面试官说确实，你就写个api就行了）
  * 堆的方法实现？口述


# 二面 4.2 （1小时20分钟）

现在二面都是开放问题现场思考了？只记录一些重要的

* 项目、容器、k8s

  * 详细阐述简历中最为亮点的项目？

  * docker项目的架构/模块设计是如何的？

  * 如果让你实现容器运行时的接口，你将如何去设计，具体会有哪些接口？

  * 你说的runV该如何去实践？你说的系统调用屏蔽技术应该如何实践？

  * 了解其他遵循了容器运行时的项目吗？（CRI-O、PodMan）
    * 如果不借助静态存储，将容器内部当前运行的状态（内存、进程现场）进行打包成镜像，然后在之后重新开启一个新的容器继续运行？
      * 例如，当前容器进程累加器从1一致累加到100，然后打包，然后在之后的某一个时刻运行一个新的容器，继续从100开始累加
      * docker checkpoint检查点功能：https://docs.docker.com/engine/reference/commandline/checkpoint/

  * 你理解的k8s是什么？

  * 你觉得当前k8s的缺点是什么？（这个问题挺难的，想到了最后只说了安装部署的困难）
  * Prometheus实习的工作？如何设计的？
  * PromeQL的聚合函数有哪些？

* go语言
  * 调度机制的理解？
  * work-stealing的随机选择算法？
  * 一个G一开始运行在一个M上，然后被调度到了另一个M上运行，这个现场保存和恢复的过程是什么样的？
    * 说到共享内存，然后就聊了一下线程的共享内存问题
  * GC回收的理解？
  * 设计模式？（就说了单例和工厂模式）
* mysql
  * 隔离级别
  * mvcc读视图
* 算法
  * [115. 不同的子序列](https://leetcode-cn.com/problems/distinct-subsequences/)

