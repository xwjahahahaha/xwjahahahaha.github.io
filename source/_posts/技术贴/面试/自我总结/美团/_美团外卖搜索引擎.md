---
title: 美团外卖搜索引擎
tags:
  - null
categories:
  - technical
  - null
toc: true
declare: true
date: 2022-03-24 21:38:29
---

一面 3.24 一小时

* 数据结构、算法、Mysql
  * 讲一下堆结构
  * 讲一下Hash表 => go语言的Hash表Map底层实现
  * 讲一下Mysql索引结构 => B+树
  * 快速排序思路
  * epoll的数据结构、和poll、select区别在哪？=> 红黑树、mmap映射比内核态向用户态复制更有效率
  * 追问：B+树为什么底层是循环链表 => 为了旋转操作
  * 你为啥这么笃定是循环链表？=> 看mysql技术内幕看的，面试官说ok其实不循环也行
  * Mysql与Redis之类的NoSQL区别？
* 操作系统
  * cpu cache => 讲了缓存金字塔
  * linux内存系统讲讲 => 从空闲列表讲到内存分配算法再讲到伙伴系统
  * 怎样查看一个程序语句的内存消耗 => 说了go的pprof工具：热点图
* 做两题
  * 同一个数组下两个指针i, j，给一个长度len，复制从i的len个数字到j
    * 例如：[1,2,3,4] i=1, j=2, len=2.  结果就是[1,2,2,3] 
  * 二分查找
* 项目相关
  * docker项目详细说一下 => 吐露了10分钟，面试官说讲的很详细哈哈哈
  * 为什么做这个项目？学习原理

二面 3.29 1小时

比较难的一次面试，0八股谈简历之外的东西，谈应用和设计思路，但是面试官会引导你

面试官后面说看简历问一个知识点只有看了和没看这两种，评估一个人有误差，所以从问题看你思考、交流能力

* 如何设计一个线程池，最好从数据结构设计开始讲？（数据结构设计、具体流程）
  * 我就开始从go的GMP设计开始讲设计线程池，讲到了任务和G之间是分离的，使用Channel作为消息队列匹配
  * 然后扯到了很多细节：channel访问安全问题怎么解决？一写多读问题？锁什么？不用锁行不行（CAS）？CAS使用过程，怎么设计？
* 两个10g的大文件，文件中的内容是<key, value>这样的键值对，值是十几k的字符串记录，增、删、改了成为第二个文件，如何高效的保存这些逻辑操作增量同步到其他服务器（重放）
  * 思考说了很久最后说的很接近了，但是还是有一个很小的问题没解决，最后问了正确答案
* 用hash表数据结构存储上面那个大文件，10G的文件key 8byte， value 十几k，请你估算一下内存保存这样一个Hash表大约占多大内存？
  * 从go语言的hash表的结构开始分析，然后扯到了桶，然后就一直在讨论桶的大小如何设计最为高效
* 算法
  * 一个不重复的数组，求所有a+b=c的三元对（三数之和），限制时间复杂度O(n^2) 空间复杂度O(1)

