---
title: k8s常问面经整理
tags:
  - null
categories:
  - technical
  - null
toc: true
declare: true
date: 2022-02-06 17:35:30
---



1. k8s主要的架构和概念

2. pod,deployment介绍一下

3. 创建一个pod的过程

4. k8s的热升级

5. service是干什么的

6. Cron Job 是什么

<!-- more -->

1. golang不关闭channel会怎么样

2. golang不关闭协程会怎么样

3. 线程和协程

4. 线程调度要保存哪些东西

5. 协程呢？具体点，有哪些寄存器

6. 聊了cpu三级缓存

可重入锁解决什么问题的，如何实现可重入

\- 公平锁和非公平锁（紧张，脑子抽了没答出来）

 B树，B+树 

  \- 索引类型 

  \- 事务隔离机制 

  \- 索引优化的一些原则 

  \- 范式 

  \- Mybatis如何实现动态SQL（没看过源码） 

  \- TCP的可靠性 

  \- TCP粘包问题，怎么解决 

  \- 浏览器输入URL之后的过程

缓存击穿、缓存雪崩、缓存穿透怎么解决

\- Redis如何保存数据不丢，答得RDB和AOF

BIO，AIO，NIO了解吗？

说说Redis持久化机制吧

**说说键盘敲入字符时，操作系统期间发生了什么**

你在做项目的过程中有没有遇到什么问题，可以突出你的思考能力的

TCP是怎么保证可靠传输的 

 重传机制详细说一下 

 详细说说快重传 

 你理解TIME_WAIT状态吗 

 **为何一定要等 2MSL ？** 

 如果四次挥手最后一个包丢失了怎么办 

 **在浏览器地址栏输入一个URL后回车，背后会进行哪些技术步骤？** 

 **DNS怎么递归查询** 

 **本地域名服务器访问之后，更上一级的DNS服务的ip地址知道吗，是多少** 

  **可以配多个DNS服务器吗？它的访问顺序是怎么样的**

**你觉得阿里的公网IP地址会存到我们学校的局域网里面吗** 

 **进程跟线程的区别，进程之间怎么通信的，线程之间怎么通信的** 

 为什么线程开销比较少 

 **进程、线程的上下文切换是怎么样的** 

 **哪些场景下用到了软中断、哪些场景用到了硬中断（请举场景）**

MySQL的悲观锁是怎么实现的

场景题：有十亿个无符号整型，怎么最快查出我输入的这个数是否在某个范围内

> 说了桶[排序]() 
>
>  有没有更好的方法 
>
>  好了，想了一会后，又说了跳表 
>
>  好了，终于想到面试官比较满意的答案了，散列表 
>
>  好了，面试官还是不满意，如果你这样子做会有hash冲突的情况，这时候时间复杂度就不是O(1)了，请问有没效率更高的解法 
>
>  又想到了布隆过滤器 

十亿的日志，无序的日期，如何按降序排，你是用什么数据结构来做的，你要怎么实现（提到了基数[排序](https://www.nowcoder.com/jump/super-jump/word?word=排序)，字符串[排序](https://www.nowcoder.com/jump/super-jump/word?word=排序)）

多线程是如何进行通信的，多进程是如何进行通信的

什么时候用多进程，什么时候用多线程，他们之间的优略势是什么

详细说说中断

索引一般怎么用比较好

数据库的每张表的容量是有上限的，如果数据量比较大的时候，你要怎么做

你说说你理解的docker、docker的好处

docker是怎么分配CPU资源

乐观锁悲观锁，mysql的行级表和oracle的行级表底层实现，索引的分类（不是功能分类，是底层分类），展开了其中的b+索引，问索引寻找过程。事务的四个特点，传播方式，union vs union all

[redis](https://www.nowcoder.com/jump/super-jump/word?word=redis)和MySQL区别，为什么用[redis](https://www.nowcoder.com/jump/super-jump/word?word=redis)，好处

地址对齐，伪共享

如何通知线程退出

raft和paxos的区别

数据库死锁检测（不会，说了死锁恢复）

数据库崩溃恢复怎么做的

对于项目，一定要很熟悉，为什么这样做？有没有别的方法，这几种方法有什么区别？优缺点？适用于什么场景？

堆和栈的区别，大家都知道，但如果你从内核角度来答，涉及到内存管理区，vma，内存描述符，以及堆是怎么扩展的

协程

HTTP长连接短连接

设计1000个连接的服务端，每个连接从数据库取数据，消耗1s，最少消耗几秒

NAT

三线程交替打印1-100【写代码】

K8S设计优雅的地方

GO设计优缺点

实习经历，做的事情的意义和难点在哪

CAS操作，锁为什么慢，操作系统调度为什么慢

上个问题引申：操作系统的虚拟内存机制，操作系统的内存管理（伙伴系统，slab缓存）

数据库为什么使用B+库索引

数据库如何实现原子性

NS、cgroups、Union FS的原理

HTTP状态码

HTTP1.0 2.0 3.0 区别



（1）什么场景下会触发RST报文？（1.客户端断电重启后，服务器发送数据包，客户端发RST报文 2.服务器端口关闭，客户端向这个端口发送连接请求，服务器返回RST报文） 

  （2）Time-Wait状态是什么？（主动关闭的一方接受到第三次挥手Fin报文进入这个状态，Time-Wait状态的设置是为了保证双方能够正确的关闭，使得出现Last Ack报文丢失被动方重传Fin报文时，主动方能够正确的重传Last Ack，让对方能够进入到closed状态） 

 （3）HTTP和HTTPS的区别？（加密、端口号443、ssl握手、服务器HTTPS申请证书）

malloc底层的实现？（先查空闲[链表]()，有满足要求直接分配，没有的话若申请小于128k，调用brk()向OS申请虚存，大于128k，调用mmap()向OS申请虚存，然后malloc从空闲[链表]()里面取出合适的内存块） 

 （4）malloc申请了1个G内存，OS是立即分配内存给它吗？（不会，只是分配的虚拟内存，只有按照虚拟地址去访问内存块的时候，MMU会查页表产生缺页中断，OS介入负责分配物理内存）

大量已[排序](https://www.nowcoder.com/jump/super-jump/word?word=排序)数据进行合并说明优化思路

高并发访问网站设计

git rebase 和 merge 的区别
