---
title: 腾讯光子工作室面经整理
tags:
  - null
categories:
  - technical
  - null
toc: true
declare: true
date: 2022-03-08 23:43:06
---

* 项目中用到的数据结构介绍
* 编译器编译代码的四个过程（预处理、编译、汇编、链接）
* 说说王者荣耀大厅和战斗时候用的哪个协议 TCP/UDP（说了大厅是TCP，战斗是UDP）
* 五大内存分区都是什么；

<!-- more -->

* 网络的同步机制有什么，讲讲帧同步和状态同步异同和优缺点，讲讲upd可靠化，又问了一些具体的游戏用的哪种同步；
* 讲讲栈和堆的区别，效率，大小，存储的数据类型；
* 基本变量存在哪里，创建类的对象时是存在堆上的吗？栈上能不能保存类对象，如果栈上能存，那类里的指针变量也是存在栈里的吗？
* 一亿数据top10000，怎么做；
* 讲讲你知道的排序算法；为什么快排比堆排块(答堆排破坏局部性，chache命中率低)，归并和快排哪个快，为什么；
* 去除一个字符数组中出现的NULL（说了用排序做，或者是hash） 问有没有更优化的方法

* 实现一个栈类，包括压栈，出栈和取栈长度，最好用模版类实现, 改进下，支持读栈的最大值

* time_wait是主动断连方的还是被动断连方的，存在的原因是什么，哪些应用场景要调小time_wait的时间长度

* 20亿个整数，有一个数出现了2次，找到这个重复的数字，计算所需内存大小

* Raft的leader挂了，新leader上任，新leader能不能马上把自己Commit之后的日志Commit给从实例？（我的回答错误，正确做法在工程应用上还需要一个Prepare阶段才能将日志发送给从实例，即**延迟提交**） 

* TCP协议下，一个包200字节，发送10个这样的包，接收端调用read函数，实际read函数返回的包长度有哪些？ 

  那在UDP协议下，发送一个200字节的包，接收端可能收到400字节或者800字节的包么？（被上一个问题整晕了，居然回答了会）

* 讲下golang的协程调度模型, golang的协程上下文切换是怎么样的

* 自己实现一个栈，可以在O(1)的时间和空间复杂度内完成stack的push、pop和max操作。max是返回当前栈内的最大值。

* I/O多路复用是为了解决什么问题？单进程监听多个I/O端口。

* 说一下select/poll/epoll的区别？让你选，你会选哪个？

  * select支持率最高，可移植性好，而且响应时间精度是毫秒级的，poll和epoll是微秒级的，如果对时间精度要求高选择select。其他选epoll

* 什么时候发生粘包？如何拆包？

* 假如cpu占用过多，如何排查哪一段代码出现了问题？

* 如何查看当前运行进程？

* 假如一个文件里有很多行url，如何快速替换其中指定的url，用linux命令实现？

* 红黑树数据结构

* 操作系统的内存管理

* 死锁是怎样形成的？如何破解死锁？

* 反射原理？

* 如何判断一个点在三角形内部？
