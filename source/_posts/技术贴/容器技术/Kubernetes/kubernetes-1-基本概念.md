---
title: kubernetes-1-基本概念
tags:
  - kubernetes
categories:
  - technical
  - kubernetes
toc: true
declare: true
date: 2021-05-28 16:25:05
---

# 一、概述和特性

## 1.1 概述

kubernetes，简称 K8s，是用 8 代替 8 个字符“ubernete”而成的缩写。是一个开源的，用于管理云平台中多个主机上的容器化的应用，Kubernetes 的目标是让部署容器化的 应用简单并且高效(powerful),Kubernetes 提供了应用部署，规划，更新，维护的一种机制。

![waCM3j](http://xwjpics.gumptlu.work/qinniu_uPic/waCM3j.png)


<!-- more -->

## 1.2 特性

1. **自动装箱** 基于容器对应用运行环境的资源配置要求自动部署应用容器

2. **自我修复(自愈能力)**

   当容器失败时，会对容器进行重启

   当所部署的 Node 节点有问题时，会对容器进行重新部署和重新调度

   当容器未通过监控检查时，会关闭此容器直到容器正常运行时，才会对外提供服务

3. **水平扩展**

   通过简单的命令、用户 UI 界面或基于 CPU 等资源使用情况，对应用容器进行规模扩大 或规模剪裁

4. **服务发现**

   用户不需使用额外的服务发现机制，就能够基于 Kubernetes 自身能力实现服务发现和负载均衡

5. **滚动更新** 可以根据应用的变化，对应用容器运行的应用，进行一次性或批量式更新

6. **版本回退** 可以根据应用部署情况，对应用容器运行的应用，进行历史版本即时回退

7. **密钥和配置管理** 在不需要重新构建镜像的情况下，可以部署和更新密钥和应用配置，类似热部署。

8. **存储编排** 自动实现存储系统挂载及应用，特别对有状态应用实现数据持久化非常重要

   存储系统可以来自于本地目录、网络存储(NFS、Gluster、Ceph 等)、公共云存储服务 

9. **批处理**

    提供一次性任务，定时任务;满足批量数据处理和分析的场景

## 1.3 kubernetes集群架构组件

![lExlbH](http://xwjpics.gumptlu.work/qinniu_uPic/lExlbH.png)

## 1.4 k8s核心概念

### 1. Pod

* 最小部署单元

* 是**一组容器**的集合

* 共享网络

  不论一个Pod中有几个容器, 对于一个端口所有的容器都是共享监听与使用

* 生命周期是短暂的

### 2. Controller

* 确保预期的Pod副本的数量

* 应用部署
  * 无状态
  * 有状态: 移植需要特定的条件(存储依赖、网络等)
* 确保所有的node都运行同一个Pod
* 一次性任务与定时任务

> Controller主要用来控制Pod

### 3. Service

* 定义一组Pod的访问规则

> <font color='#e54d42'>由Service作为统一入口访问, 使用Controller控制Pod部署创建,Pod中是一组容器的集合</font>

