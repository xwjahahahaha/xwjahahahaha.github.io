---
title: 169-多数元素
tags:
  - java
categories:
  - technical
  - leetcode
toc: true
date: 2020-09-01 09:39:14
---

## 题目描述


给定一个大小为 n 的数组，找到其中的多数元素。多数元素是指在数组中出现次数大于 ⌊ n/2 ⌋ 的元素。

你可以假设数组是非空的，并且给定的数组总是存在多数元素。

示例 1:

输入: [3,2,3]

输出: 3

示例 2:

输入: [2,2,1,1,1,2,2]

输出: 2

<!-- more -->

## 解题思路及代码

```java
class Solution {
    //直观的思路：hashmap记录个数
    //时间复杂度O(N), 空间复杂度O(N)  11.6%
    public int majorityElement(int[] nums) {
        Map<Integer,Integer> map = new HashMap<>();
        int maxNum = nums[0];
         //记录并统计最大值
        for(int num: nums){
            Integer nowTimes = map.getOrDefault(num, 0) + 1;
            map.put(num, nowTimes);
            if( nowTimes > map.get(maxNum) && nowTimes > nums.length/2 )
                maxNum = num;
        }
        return maxNum;
    }

    //排序，下标为N/2的就是众数
    //时间复杂度O(NlogN) 空间复杂度O(logN)(java的排序算法所需的栈空间)
    public int majorityElement(int[] nums) {
        Arrays.sort(nums);
        return nums[nums.length/2];
    }


    /**分治法：
    *重要结论：如果数 a 是数组 nums 的众数，如果我们将 nums 分成两部分，那么 a 必定是至少一部分的众数
    *时间复杂度O(NlogN) 空间复杂度O(logN)(递归栈空间)
    **/
    public int majorityElement(int[] nums) {
        return getMode(0, nums.length-1, nums);
    }

    //找出此区间的众数
    public int getMode(int l, int r, int[] nums){
        if(l == r) return nums[l];    //特殊情况、递归出口
        int mid = (l + r) >> 1;   //取中点
        //左边找众数
        int leftMode = getMode(l, mid, nums);
        //右边取众数
        int rightMode = getMode(mid+1, r, nums);
        //比较
        if(leftMode == rightMode) 
            return leftMode;
        else
            return countNum(l, mid, nums, leftMode) > countNum(mid+1, r, nums, rightMode) ? leftMode : rightMode;    
    }

    //统计该区间该数出现的次数
    public int countNum(int l, int r, int[] nums, int x){
        int count = 0;
        for(int i=l; i<=r; i++){
            if(nums[i] == x)
                count++;
        }
        return count;
    }


    //摩尔投票法/同归于尽法
    //相同的数加条命，不同的数减去一条命，命剩下最多的就是众数
    //时间复杂度O(N) 空间复杂度O(1)
    public int majorityElement(int[] nums) {
        int count = 0, candidate = nums[0];
        for(int num: nums){
            if(candidate == num)
                count++;
            else if(count == 1)
                candidate = num;
            else
                count--;
        }
        return candidate;
    }
}
```

