---
title: BM69-把数字翻译成字符串
tags:
  - null
categories:
  - technical
  - leetcode
toc: true
date: 2022-03-08 23:30:33
---

## 题目描述

有一种将字母编码成数字的方式：'a'->1, 'b->2', ... , 'z->26'。

现在给一串数字，返回有多少种可能的译码结果

数据范围：字符串长度满足 $0 < n \le 90$

进阶：空间复杂度$ O(n)$，时间复杂度 $O(n)$

<!-- more -->

### 示例1

输入：

```
"12"
```

返回值：

```
2
```

说明：

```
2种可能的译码结果（”ab” 或”l”）  
```

### 示例2

输入：

```
"31717126241541717"
```

返回值：

```
192
```

说明：

```
192种可能的译码结果  
```

## 解题思路及代码

视频：https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof/solution/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-by-leetcode-sol/ 

```go
package main

/**
 * 解码
 * @param nums string字符串 数字串
 * @return int整型
*/
func solve( nums string ) int {
    n := len(nums)
    if n == 0 {
        return 0
    }
    if n == 1 {
        if nums[0] == '0' {
            return 0
        }
        return 1
    }
    dp := make([]int, n+1)
    // 初始化
    dp[0], dp[1] = 1, 1
    // 填表
    for i:=1; i<n; i++ {
        // 判断当前最后一位是否合法, 不合法只有一种情况'0'
        if nums[i] == '0' {
            // 判断当前后两位是否合法
            if isValid(nums[i-1:i+1]) {
                dp[i+1] = dp[i-1]
            }
        }else {
            // 判断当前后两位是否合法
            if isValid(nums[i-1:i+1]) {
                dp[i+1] = dp[i] + dp[i-1]
            }else {
                dp[i+1] = dp[i]
            } 
        }
    }
    return dp[n]
}

// 判定两位字符为合法字符
func isValid(s string) bool {
    n := len(s)
    if n != 2 {
        return false
    }
    if s[0] != '1' && s[0] != '2' {
        return false
    }
    if s[0] == '2' && s[1] > '6' {
        return false
    }
    return true
}
```

leetcode同样的题目：

[剑指 Offer 46. 把数字翻译成字符串](https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof/)

```go
// dp[i]表示num[:i]（i位置可取）子串的翻译方法
func translateNum(num int) int {
    numStr := intToStr(num)
    n := len(numStr)
    if n <= 1 {
        return n
    }
    dp := make([]int, n+1)
    // 初始化dp[0]=1, dp[1]=1因为第一位的字符一定是一种
    dp[0], dp[1] = 1, 1
    for i:=1; i<n; i++ {
        // 判断i与i-1位构成的数字是否合法
        if isValid(numStr[i-1:i+1]) {
            // 合法
            dp[i+1] = dp[i] + dp[i-1]
        }else {
            // 不合法
            dp[i+1] = dp[i]
        }
    }
    return dp[n]
}

func intToStr(num int) string {
    if num == 0 {       // 注意特例
        return "0"
    }
    ans := ""
    for num > 0 {
        ans = string(num%10+'0') + ans
        num /= 10
    }
    return ans
}

// 判断是否是合法的两位数字
func isValid(s string) bool {
    n := len(s)
    if n != 2 {
        return false
    }
    if s[0] != '1' && s[0] != '2' {
        return false
    }
    if s[0] == '2' && s[1] > '5' {
        return false
    }
    return true
}
```

