---
title: 54.螺旋矩阵
tags:
  - null
categories:
  - technical
  - leetcode
toc: true
date: 2022-01-07 23:16:28
---

## 题目描述

[54. 螺旋矩阵](https://leetcode-cn.com/problems/spiral-matrix/)

难度中等

给你一个 `m` 行 `n` 列的矩阵 `matrix` ，请按照 **顺时针螺旋顺序** ，返回矩阵中的所有元素。

 <!-- more -->

**示例 1：**

![img](http://xwjpics.gumptlu.work/qinniu_uPic/spiral1.jpg)

```
输入：matrix = [[1,2,3],[4,5,6],[7,8,9]]
输出：[1,2,3,6,9,8,7,4,5]
```

**示例 2：**

![img](http://xwjpics.gumptlu.work/qinniu_uPic/spiral.jpg)

```
输入：matrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]
输出：[1,2,3,4,8,12,11,10,9,5,6,7]
```

 

**提示：**

- `m == matrix.length`
- `n == matrix[i].length`
- `1 <= m, n <= 10`
- `-100 <= matrix[i][j] <= 100`

## 解题思路及代码

```go
// 模拟
// 时间复杂度O(MN), 空间复杂度O(MN)
func spiralOrder(matrix [][]int) []int {
    m := len(matrix)
    if m == 0 {
        return []int{}
    }
    n := len(matrix[0])
    move := [][2]int{{0,1}, {1,0}, {0,-1}, {-1,0}}   // 方向：右下左上
    i, j, direction := 0, -1, 0                      // 行列坐标和方向
    visited := make([][]bool, m)
    for i:=0; i<m; i++ {
        visited[i] = make([]bool, n)
    }
    ans := make([]int, m*n)
    for k:=0; k<m*n; k++ {                          // k 用于计数
        // 移动
        i += move[direction][0]
        j += move[direction][1]
        // 判断下一位置是否正确
        if i >= 0 && i < m && j >= 0 && j < n && !visited[i][j] {
            // 加入结果
            ans[k] = matrix[i][j]
            // 标记访问
            visited[i][j] = true
        }else {
            // 一旦越界或已被访问，先变回来再改变方向
            i -= move[direction][0]
            j -= move[direction][1]
            direction = (direction+1) % 4
            k--             // 重新来一次
        }
    }
    return ans
}
```

