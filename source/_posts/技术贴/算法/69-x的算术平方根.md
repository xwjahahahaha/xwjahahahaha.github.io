---
title: 69.x的算术平方根
tags:
  - null
categories:
  - technical
  - leetcode
toc: true
date: 2022-01-13 00:31:39
---

## 题目描述

[69. Sqrt(x)](https://leetcode-cn.com/problems/sqrtx/)

难度简单860

给你一个非负整数 `x` ，计算并返回 `x` 的 **算术平方根** 。

由于返回类型是整数，结果只保留 **整数部分** ，小数部分将被 **舍去 。**

**注意：**不允许使用任何内置指数函数和算符，例如 `pow(x, 0.5)` 或者 `x ** 0.5` 。

 <!-- more -->

**示例 1：**

```
输入：x = 4
输出：2
```

**示例 2：**

```
输入：x = 8
输出：2
解释：8 的算术平方根是 2.82842..., 由于返回类型是整数，小数部分将被舍去。
```

 

**提示：**

- `0 <= x <= 231 - 1`

通过次数438,436

提交次数1,122,450

## 解题思路及代码

```go
// 二分优化
func mySqrt(x int) int {
    l, r := 1, x
    for l <= r {
        mid := l + (r-l)>>1
        if mid * mid == x {
            return mid
        }else if mid * mid > x {
            r = mid-1
        }else {
            l = mid+1
        }
    }
    // 结束时l是l*l刚好大于x的数
    return l-1
}

// 构造函数：y=x^2-C, C就是要开根的数，题目转换为求零点(y=0)
// 牛顿迭代求根法，一个初始值求其在函数上的值然后求出斜率，再计算出斜率直线到坐标轴的零点作为新的点开始迭代
// 最终得到非常近似零点的位置(两次迭代结果差距很小)，得到结果
func mySqrt(x int) int {
    if x == 0 {
        return 0
    }
    C, x0 := float64(x), float64(x)
    for {
        xi := 0.5 * (x0*x0+C) / x0
        if math.Abs(xi-x0) < 1e-10 {
            return int(x0)
        }
        x0 = xi
    }
    return -1
}
```

