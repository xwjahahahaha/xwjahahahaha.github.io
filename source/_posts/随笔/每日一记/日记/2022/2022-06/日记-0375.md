---
title: 日记_0375
tags:
  - 每日一记
categories:
  - 随笔
  - 每日一记
toc: true
date: 2022-06-24 09:37:21
---

## 学习规划:

<!-- more -->

3～4月

- [x] 找到一份暑期实习(网易)

5～6月

- [x] 论文修改重新投稿 5.3
  - [ ] 5.16 退修


6～7月

- [ ] 实习
- [ ] 两个项目
  - [ ] k8s
  - [ ] runx

## 这段时间的待完成任务：

- [ ] 工作
  - [ ] eBPF调研2周 （5-17~5-25）要以任务为核心，而不是系统发散性的学习
    - [ ] eBPF演讲
    - [ ] 各种语言输出调研`profile`
    - [ ] `profile.py`原理
  - [ ] 目标
    - [ ] 实现一个分布式`profile`（适应多语言），可以使用到云原生场景下

## 今日完成的任务：

- [ ] 工作
  - [ ] profile
    - [x] 集群化
      - [x] DaemonSet中实现对其他Pod容器的Profile
        - [x] bcc脚本测试
        - [x] Async-Profiler
          - [x] 在DaemonSet容器中Profile其他容器 (去构建的容器中解决) 
            - [x] ~~脚本中添加时间戳(重新编译jattach)~~
        - [x] ~~容器范围内Profile的解决~~(在用户态打标)
        - [ ] 采集频率参数优化（BPF默认99，Async-profiler未修改）
        - [x] agent服务器接口开发
          - [x] profile/withtimeout
            - [x] 完成bcc对c/c++、go的开发
            - [x] Async-agent java的调试
          - [x] profile
            - [x] ~~后台持久化运行暂缓：start、resume、stop~~
          - [x] 并行profile 
            - [x] Async-profiler + BPF 可并行
            - [x] 多个BPF可并行
            - [x] 多个Async-profiler可并发
          - [x] ~~取容器所有Pid还是主要的Pid？(暂定所有pid)~~
          - [x] 结构调整：分层
          - [x] log日志完善
      - [x] Server中心服务
        - [x] 哆啦A梦框架学习
        - [x] ~~任务框架taskqueue开发: 暂不需要~~
        - [x] ~~mysql数据库（使用redis）~~
        - [x] profile/pod、svc、controller、ns完成
        - [x] 异步接口
        - [x] 并发写入问题
        - [x] redis互斥 => task设置状态
        - [x] 同步接口
        - [x] 判断java调用栈是否反了(没反)
        - [x] 获取服务器ip问题，返回svg的url使用
          - [x] 待确定更好的方法
        - [x] profile all接口完成, 解决namespace问题
        - [x] ~~集群化的配置文件问题：server的配置文件是放在镜像中还是在部署yaml的时候设置(打包在镜像内，已忽略)~~
      - [x] 测试
        - [x] 对比pprof的profile结果与eagel的结果对比
        - [x] 部署一套软件找一个对比
      - [x] kubectl plug 开发
        - [x] 完成集群化部署的yaml
        - [x] 解决集群环境下的serviceaccount权限问题
        - [x] 解决deployment权限问题（自己蠢忘记改源文件了）
      - [ ] 确定数据格式（暂缓到二期）
        - [ ] VictoriaMetrics
          - [ ] 多个label实现多层分级
          - [ ] 数据存储到VictoriaMetrics
    - [ ] 演讲（7月1日）
      - [ ] 由ELF文件字段 => 符号表识别/调用栈过程 => 整体profile的逻辑 
      - [ ] unknow问题解决-原理深入
        - [ ] 读懂符号表识别逻辑 
          - [ ] 1.调用栈回溯逻辑
          - [ ] 2.符号表解析逻辑
      - [ ] 做个PPT要偏向原理底层
  - [ ] 极客时间专栏（暂缓）
    - [ ] 04-运行原理
    - [ ] 05-编程接口
    - [ ] 06-事件触发
  - [ ] 容器安全
    - [ ] kubecon视频
      - [ ] 容器安全LSM+BPF视频课记录
    - [ ] 《security_observability_with_ebpf》(一半)
- [ ] self
  - [ ] [剑指 Offer 50. 第一个只出现一次的字符 ](https://leetcode.cn/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/)
  - [x] 论文修改  => 终审
    - [x] 四条建议
  - [ ] gVisor项目学习
    - [ ] 视频过一遍
    - [ ] 完成系列博客第一篇
  - [ ] 看书 
    - [ ] 《深入理解计算机系统》 
      - [ ] 第七章 链接 
    - [ ] 《C语言程序设计现代方法》
      - [x] 第三章 标准输入输出
      - [ ] 第四章

