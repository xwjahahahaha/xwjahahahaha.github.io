---
title: 日记_0405
tags:
  - 每日一记
categories:
  - 随笔
  - 每日一记
toc: true
date: 2022-08-01 13:02:05
---

## 学习规划:

<!-- more -->

3～4月

- [x] 找到一份暑期实习(网易)

5～6月

- [x] 论文修改重新投稿 5.3
  - [x] 5.16 退修
  - [ ] 7.4 录用修改

6～7月

- [ ] 实习
  - [ ] kube-eagle项目

- [ ] 两个项目
  - [ ] runC源码
- [ ] 基础知识
  - [ ] linux内核源码 => 《深入理解linux内核》


## 这段时间的待完成任务：

- [ ] 工作
  - [x] eBPF调研2周 （5-17~5-25）要以任务为核心，而不是系统发散性的学习
    - [x] eBPF演讲
    - [x] 各种语言输出调研`profile`
    - [x] `profile.py`原理
  - [x] 目标
    - [x] 实现一个分布式`profile`（适应多语言），可以使用到云原生场景下（一期）
  - [ ] 分布式`profile`的二期开发
  - [ ] 容器安全相关的调研
  - [ ] 容器安全相关项目的开发

## 今日完成的任务：

- [ ] 工作

  - [ ] profile

    - [ ] 优化agent

      - [ ] 程序编程语言类型判断优化（默认方式，判断错误拉到）
      - [ ] 单核profile的优化：需要持久性的Profile进程在某个CPU核上的数据
        - [ ] 目标是CPU单核，而不是进程，并且只采集一个阈值以上，因为IOMMA

    - [ ] grpc重构

      - [x] start之前检查pod or container状态

    - [ ] Async-profile问题

      - [ ] 僵尸进程

        ![image-20220718152123455](http://xwjpics.gumptlu.work/qinniu_uPic/image-20220718152123455.png)

        最好还是拆开来执行

    - [ ] 确定总体的一个采样周期，采集间隔

      - [x] py-spy的采样方式是在duration内采样多少次，采样结果基本与采样次数强相关（不是依赖于perf-event，所以不准确）（等issue回复）

    - [ ] 确定数据格式

      - [ ] nosql格式适配[speedscope](https://github.com/jlfwong/speedscope)

  - [ ] 容器安全(暂缓)

    - [ ] kubecon视频
      - [ ] 容器安全LSM+BPF视频课记录
    - [ ] 《security_observability_with_ebpf》(看完)

  - [ ] BMC-Cache 利用XDP实现分布式缓存加速

  - [x] NFS、CephFS的VFS延迟监控

    - [x] NFS
      - [x] open检测不到问题 => 使用`nfs4_file_open`系统调用
        - [ ] grafana中read和open显示过小的原因 => 目前看来的原因在于本身次数就很少，再经过时间分摊后<1就不显示了 => 优化表达式
    - [x] CephFS
      - [x] 基本项的采集
    - [x] 更多标签用于定位问题 => 自定义exporter
      - [x] pid
        - [x] 直方图最大pid不够用问题 => 外部perf_map解决
      - [x] podname
      - [x] nfs server ip

- [ ] self

  - [ ] 算法 ***
    - [ ] 复习常见题（快速）
      - [ ] 链表
        - [x] [剑指 Offer 22. 链表中倒数第k个节点](https://leetcode.cn/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)
        - [x] [剑指 Offer II 022. 链表中环的入口节点](https://leetcode.cn/problems/c32eOV/)
        - [x] [剑指 Offer 24. 反转链表](https://leetcode.cn/problems/fan-zhuan-lian-biao-lcof/)
        - [x] [剑指 Offer 25. 合并两个排序的链表](https://leetcode.cn/problems/he-bing-liang-ge-pai-xu-de-lian-biao-lcof/)
        - [ ] [剑指 Offer II 025. 链表中的两数相加](https://leetcode.cn/problems/lMSNwu/)
    - [ ] 动态规划
      - [ ] 背包问题
        - [ ] 01背包
          - [ ] 
        - [ ] 完全背包 
  - [ ] 基础复习
    - [ ] 网易实习项目 ***
      - [ ] kube-eagle分布式profile系统
        - [ ] 基本思路
          - [ ] 理架构，演进思路，为什么这样设计？=> 模块与功能
          - [ ] 遇到的难点 => 我的收获
          - [ ] 深入一些细节点，说通原理流程（结合代码），注意一旦涉及到相关的基础知识必须去复习一下
        - [ ] 额外的资料：调研报告、分享的ppt
      - [ ] bpf exporter：nfs、ceph客户端IO延迟监控
        - [ ] 理架构，演进思路，为什么这样设计？=> 模块与功能
        - [ ] 遇到的难点 => 我的收获
        - [ ] 深入一些细节点，说通原理流程（结合代码）
      - [ ] 容器安全
        - [ ] 调研报告
      - [ ] 总体把握
        - [ ] 小组内事宜、大方向
        - [ ] 丹炉基本架构
        - [ ] 能说出自己做的工作的所在点，为什么需要做这个工作，讲清楚来龙去脉
      - [ ] linux性能调优方法、工具
        - [ ] bpf书籍、perf
    - [ ] 深信服实习 *
      - [ ] 回忆一下具体工作内容
    - [ ] runC项目 **
      - [ ] 看之前的文档和源码过一遍
      - [ ] 有余力：
        - [ ] 重构源代码、加入seccomp功能 
        - [ ] runC源码项目看一下
        - [ ] OCI 镜像格式标准文件包 bundles
    - [ ] 基础八股 **
      - [ ] eBPF
      - [ ] 操作系统
      - [ ] golang
      - [ ] Mysql
      - [ ] 计算机网络
      - [ ] k8s
        - [ ] 基础
        - [ ] CRD
  - [ ] 论文修改： ***
    - [ ] 最后的修改 建议7月2号
  - [ ] 看书 
    - [ ] 《深入理解linux内核》**
      - [ ] 第三章 进程 
    - [ ] 《C语言程序设计现代方法》（看不懂的地方再找着看，直接过基础枯燥且浪费时间）
    - [ ] 《深入理解计算机系统》CSAPP
      - [ ] 第七章 链接 
  - [ ] 操作系统45讲-实现一个自己的OS  （目前看来时间不够，优先级并不高，能做一点是一点吧）
    - [ ] 05 CPU工作模式

  

